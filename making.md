# 제작 과정
<h3>
1. 기획 <br/><br/>
2. Block class 제작 <br/><br/>
3. Canvas class 제작 <br/><br/>
4. 버그 수정 <br/><br/>
</h3>
<br/>

# 기획
__테트리스에 어떤 블럭들이 있는지 알아보고 총 7가지 블럭을 만들기로 함
이 7가지 블럭은 상위 클래스로 Block이라는 클래스를 상속하게 클래스를 만듦__

__출력의 경우, Canvas라는 2차원 벡터를 만들어 이 안에 문자를 집어넣어 출력하도록 함
Canvas의 공간 한칸 한칸이 곧 좌표가 되는 식
최초 의도는 Canvas class는 화면으로의 출력만 담당하게 하려고 했으나 Play Game 함수를 만드는 과정에서
Canvas class에서 대부분의 동작을 처리하게 됨.
다음에 만드는 프로젝트에서는 사전 기획을 더 철저히 해서 class 이름에 맞게 분리를 할 수 있도록 해야겠음__

__Block class는 좌표를 가지고 있고 이 좌표대로 Canvas에 출력하고자 하여, 멤버변수로 1차원 벡터를 가지고 있음
기준이 되는 좌표를 하나만 가지고 그 좌표를 기준으로 주변 좌표에 블럭 모양을 출력해주고자 하였으나,
각 블럭 칸마다 좌표를 하나씩 가지는게 구현하는 데 있어서 더 효과적일 것이라 생각해 멤버 변수로 1차원 벡터를 4개 가지게 함__

# Block class 제작

__멤버변수로 좌표를 나타내기 위한 4개의 1차원 벡터, 회전을 위해 현재 상태를 나타내는 nrot 변수를 만들었음 <br/><br/>
nrot 변수의 경우는 최초에는 만들지 않았다가 회전을 하는 rotate함수를 만드는 중에 추가 하였음<br/><br/>
멤버함수로는 좌표를 이동하는 move, 하드드롭을 하는 fall, 회전을 하는 rotate, 현재 좌표를 반환하는 getpos함수로 구성되어 있음<br/><br/>
Block 상위 클래스를 상속하는 Mino클래스는 rotate함수가 오버라이딩 되어 있음. 각 블럭 모양별로 변경해야 하는 좌표가 다르기 때문에 오버라이딩
생성 시, Block 클래스의 생성자에 인자로 각 모양에 맞는 문자를 넘겨 주어 4개의 벡터를 초기화 하여 줌<br/><br/>
move 함수의 경우는 좌표를 1씩 바꿔주면 되기에 크게 어려움이 없었음<br/><br/>
rotate 함수는 블럭이 회전하면서 바뀌는 모양이 4개 혹은 2개인 것을 파악하고 이를 나타내기 위해 멤버 변수로 nrot를 추가 해준 뒤, nrot에 따라서
좌표의 변화가 다르게 구현함<br/><br/>
fall 함수를 구현할 때, 될 수 있으면 Block 클래스 내에서 구현을 하고 싶었으나, canvas의 특정 좌표에 있는 문자열을 알아야 하기에 canvas 클래스의 멤버로
접근이 필요해 구현에 어려움이 있었음. 이 때문에 canvas에서 fall 함수를 호출할 때 넘겨주는 인자만큼 밑으로 이동하는 식으로 구현을 함.__ 

# Canvas class 제작

__canvas 클래스 내에서 Block class 배열을 만드려고 했으나, 사실 플레이어가 조작하는 블럭만 그 형태를 유지하면 되고, 플레이어가 조작하지 않는 즉 이미
조작이 끝난 블럭은 마지막 위치만 canvas에 넘겨주고 그 객체는 필요가 없다고 생각하여 플레이어가 조작을 하는 Block 포인터만 하나 만듦<br/><br/>
플레이어가 조작중인 블럭의 하드드롭 위치를 보여주기 위해서, 조작하는 블럭과 똑같지만 높이만 다른 블럭을 하나 만들고자 shadow라는  Block 포인터를 하나 더 선언함__
<br/><br/>
__조작중인 블럭의 위치 출력은 show()함수에서 처리하여 출력하여 줌. 실제 canvas내에는 조작중인 블럭의 위치가 들어가 있는 것이 아니라 출력만 그 위치에 해주는 것__
<br/><br/>
__move()함수의 경우, 이동하고자 하는 위치가 공백이 아닌 경우 작동하지 않도록 하여 벽, 다른 블럭을 만났을 때 이동하지 않음. rotate()를 수행하고 난 뒤에는, 범위 체크를 진행하는 checkarea()함수를 호출하여 블럭이 벽 밖으로 나갔을 때 나간 만큼 반대로 이동하여 벽 안으로 돌아오게 함__
<br/><br/>
__rotate()함수는 호출 시 캔버스에서 자신의 호출 위치에 블럭이 있을 경우 동작하지 않도록 함__
<br/><br/>
__isTopfull()함수는 새로 할당된 블럭의 위치에 캔버스 상에서 빈 공간이 없을 경우 Gameover 시키기 위해서 제작함. 공간이 없을때 true를 반환__
<br/><br/>
__한 줄이 가득 차면 그 줄의 블럭을 지우고, 그 빈 공간은 윗줄에 있는 블럭들을 땡겨와서 메우는 방식을 구현하기 위해서 clear()함수를 구현함__

# 버그 수정

__블럭이 시간이 지나 밑으로 다 내려왔을 때, 게임이 비정상적으로 종료되어버리는 버그를 발견함. 원인을 찾은 결과, 플레이어가 조작하는 Block 포인터가 재할당 되지 않은 상태에서 show()함수를 호출한 것이 원인이었음. PlayGame()함수에서 show()함수의 호출 시기를 조정하여 해결함__
